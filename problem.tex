\section{Overview} \label{sec:overview}

\subsection{Problem Statement} \label{sec:problem}

We define a user's trajectory as a series of timestamped check-ins, where each check-in indicates the exact place (i.e., a restaurant, a coffee shop, etc.) the user visits, instead of a geo-graphical coordinate. The Foursquare dataset is an example of such trajectory that consists of self-reported check-ins. Note that coordinate-based trajectory can be converted into such check-ins by joining the coordinates with a database of Point-of-Interests (PoI), such as provided by Open-Stree Map. For simplicity, we consider only check-in-based trajectory in this paper. We formally define the notion of \textit{Check-in} and \textit{User Trajectory} as follows.

\begin{definition}[Check-in]
Let $U$ denote a set of unique user identifiers, $L$ denote a set of locations, and $T$ denote the time domain. A check-in $c$ is a triple $(u, l, t) \in U \times L \times T$, which indicates the user $u$ has visited $l$ at time $t$.
\end{definition}

\begin{definition}[User-trajectory]
Let $C$ be a collection of check-ins and $u \in U$ a user, then the set $C_u := \{ (u', l, t) \in C | u = u'\}$ is the user-trajectory (or simply trajectory) of $u$.
\end{definition}

The proposed social connection prediction model is based on the concept of \textit{Co-visitation}, which is defined as follows: 

\begin{definition}[Co-visitation]
A co-visitation of two users $u_i$ and $u_j$ to a location $l$ is defined as the event that $u_i$ and $u_j$ report two check-ins $(u_i, l, t_i)$ and $(u_j, l, t_j)$ respectively, where $| t_i - t_j| \leq \tau$.
\end{definition}

Here $\tau$ is an experience-based parameter called the co-visitation time window. We formulate the social connection prediction problem as a classification problem. Given the trajectory of two users $u_i$ and $u_j$, the goal is to assign the pair of users $(u_i, u_j)$ into one of the two classes: \textit{Friends} or \textit{Non-friends}. 

\subsection{Methodology} \label{sec:method}

We model the probability of the existence of social connection between two users based on the hypothesis that socially connected users tend to visit same locations at same time periods, which is defined as co-visitations. We propose a three step model learning process.
\begin{itemize}
\item \textbf{Co-visitation feature extraction} Given the trajectories of two users $u_i$ and $u_j$, we first convert their trajectories into a high-dimensional co-visitation feature vector that reflects the time and location of their co-visitations.

\item \textbf{Feature selection} A feature selection process is applied on the co-visitation feature vector in order to filter out less significant co-visitations. It helps us to identify the locations and time slots that are most related to user's social connections. 

\item \textbf{Model learning} A model is then learnt from the selected features. To find the most suitable model for our problem, we explored several modelling techniques including the logistic regression, Support Vector Machine (SVM), and artificial neural network.
\end{itemize}


\iffalse

Research questions worth exploring in the future

1. Active user vs Non-active users?
2. Percentage of social connections can be explained by trajectories? 
3. Most significant types of locations?
4. Most significant time slots?
5. Geo-distance and predictive power?

\fi